
//2019年9月1日更新
//2019年11月16日更新
//2019年12月17日更新
//2020年1月13日更新
//2020年3月2日更新

Shinytest : ディレクトリフォルダ
IMG_0444 : 参考動画（Mac,iphonだと標準で観られる、Windowsの場合メディアプレイヤーが最新版でしか観られない）
testData.csv : 動作確認用のtestData


事前の準備
・RstudioからのRの起動が必須となっているので、Rstudioをインストールする必要があります。

	Rstudioのダウンロード元 : https://www.rstudio.com/products/rstudio/download/
	インストール方法参考URL : https://qiita.com/hujuu/items/ddd66ae8e6f3f989f2c0

・また以下の必要パッケージをR経由で入れておきます
	install.packages("shiny")
	install.packages("graph")
	install.packages("DT")
	install.packages("shinyjs")
	install.packages("colourpicker")
	install.packages("rhandsontable")


起動方法
・RstudioからワーキングディレクトリをShinytestフォルダに設定する
・Shinytest内のスクリプト server.Rとui.RをRstudioにて開く

####以下は添付動画IMG_0444でも確認できる####
Shinyパッケージが正しくインストールされている状態で、
Server.R又はui.Rを開くと右上にRun.APPというボタンが現れるので、それをクリックすると、プログラムが起動する


起動後の使用方法
データ入力　：最初の画面で表示される右側サンプルと同様の構造のcsvファイルをドラッグ&ドロップすると、データを読み込む
初期値の入力　：初期値は0で統一されているが、初期値入力タブで変更可能。
可視化　：可視化された結果は可視化タブにて確認できる。見づらい場合は曲率を変更したり、残高を消したりして対応する
詳細設定　：その他詳細な設定を行いたい場合に利用する


更新内容
//20年11月16日
macで利用した場合、グラフのplotのフォントファミリーが日本語非対応だったので修正した。
ローカルでのフォントファミリーの変更は容易だが、shiny server側でのフォントファミリーの設定が難しかったため、ローカルでpngとして出力した後に、画像としてserverに引き渡すという処理を行った。

全体出力を行い、現金の流れがわかる形のプロットが欲しいとの要望を受けたため、全体出力ボタンを設定した。現金が入るコミュニティと非結合のコミュニティをどう処理すべきかヒアリング不足だったため、それらは既存コミュニティに被らない形でとりあえずランダム出力にしておいた。


//2019年12月17日
現金からのin-outだけ分かれば良いとのことだったので、前回のランダム出力部分を調整した。

//2020年1月13日
Windowsに移行した場合、javascriptの文字コードの設定がうまくいかなかったため、javascriptを使わない形でWin対応のapp.Rを作成した。
それにあたり、アップローダーを選択形式にし、文字コードの入力も加えた。
現金からのinが一つもない場合に、現金の座標がNaNになるバグを修正した。
現金以外にも選択が行えるようにした。選択した勘定科目がない場合は空のプロットを出力する。
勘定科目の(入金、出金、残)額に基づいてノードサイズを変更できるようにした。


//2020年3月2日
windows以降プログラムに関して
矢印の向きが借方、貸方のニュアンスと一致していることが望ましいので、出力方向を逆転させた。それにあたりカラム名も修正した。
指定した勘定科目の距離nを選択し、nまでの勘定科目を出力出来るよう修正した。
